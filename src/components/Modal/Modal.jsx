import { useEffect } from "react";

export function Modal({ openerId, modalId, content, ...props }) {
    useEffect(() => {
        const modal = document.querySelector(`#${modalId}`);

        //Create listener to open the modal
        document.querySelector(`#${openerId}`)?.addEventListener('click', () => {
            modal?.showModal();
        });

        //Create listener to close the modal
        document.querySelector(`#closeModal-${modalId}`)?.addEventListener('click', () => {
            modal?.close();
        });
    }, [])

    return (
        <dialog id={modalId} class="inset-0 m-auto relative w-fit h-fit pt-20 p-10 bg-zinc-700 backdrop:bg-[hsl(0_0%_0%_/_50%)]">
            <button id={`closeModal-${modalId}`} class="absolute right-3 top-3">
                <svg width="40" height="40" viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M26 0C20.8577 0 15.8309 1.52487 11.5552 4.38179C7.27951 7.23871 3.94702 11.2994 1.97914 16.0502C0.0112654 20.8011 -0.503621 26.0288 0.499594 31.0723C1.50281 36.1159 3.97907 40.7486 7.61524 44.3848C11.2514 48.0209 15.8842 50.4972 20.9277 51.5004C25.9712 52.5036 31.1989 51.9887 35.9498 50.0209C40.7007 48.053 44.7613 44.7205 47.6182 40.4448C50.4751 36.1691 52 31.1423 52 26C51.9927 19.1066 49.2511 12.4976 44.3767 7.62326C39.5024 2.74889 32.8934 0.00727955 26 0ZM35.415 32.585C35.6008 32.7708 35.7482 32.9914 35.8488 33.2342C35.9494 33.477 36.0011 33.7372 36.0011 34C36.0011 34.2628 35.9494 34.523 35.8488 34.7658C35.7482 35.0086 35.6008 35.2292 35.415 35.415C35.2292 35.6008 35.0086 35.7482 34.7658 35.8488C34.523 35.9494 34.2628 36.0011 34 36.0011C33.7372 36.0011 33.477 35.9494 33.2342 35.8488C32.9914 35.7482 32.7708 35.6008 32.585 35.415L26 28.8275L19.415 35.415C19.2292 35.6008 19.0086 35.7482 18.7658 35.8488C18.523 35.9494 18.2628 36.0011 18 36.0011C17.7372 36.0011 17.477 35.9494 17.2342 35.8488C16.9914 35.7482 16.7708 35.6008 16.585 35.415C16.3992 35.2292 16.2518 35.0086 16.1512 34.7658C16.0507 34.523 15.9989 34.2628 15.9989 34C15.9989 33.7372 16.0507 33.477 16.1512 33.2342C16.2518 32.9914 16.3992 32.7708 16.585 32.585L23.1725 26L16.585 19.415C16.2097 19.0397 15.9989 18.5307 15.9989 18C15.9989 17.4693 16.2097 16.9603 16.585 16.585C16.9603 16.2097 17.4693 15.9989 18 15.9989C18.5307 15.9989 19.0397 16.2097 19.415 16.585L26 23.1725L32.585 16.585C32.7708 16.3992 32.9914 16.2518 33.2342 16.1512C33.477 16.0506 33.7372 15.9989 34 15.9989C34.2628 15.9989 34.523 16.0506 34.7658 16.1512C35.0086 16.2518 35.2292 16.3992 35.415 16.585C35.6008 16.7708 35.7482 16.9914 35.8488 17.2342C35.9494 17.477 36.0011 17.7372 36.0011 18C36.0011 18.2628 35.9494 18.523 35.8488 18.7658C35.7482 19.0086 35.6008 19.2292 35.415 19.415L28.8275 26L35.415 32.585Z" fill="#F87171" />
                </svg>
            </button>
            {content}
        </dialog>
    )
}